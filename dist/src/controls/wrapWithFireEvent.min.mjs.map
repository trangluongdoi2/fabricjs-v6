{"version":3,"file":"wrapWithFireEvent.min.mjs","sources":["../../../src/controls/wrapWithFireEvent.ts"],"sourcesContent":["import type {\n  TModificationEvents,\n  Transform,\n  TransformActionHandler,\n} from '../EventTypeDefs';\nimport { fireEvent } from './fireEvent';\nimport { commonEventInfo } from './util';\n\n/**\n * Wrap an action handler with firing an event if the action is performed\n * @param {Function} actionHandler the function to wrap\n * @return {Function} a function with an action handler signature\n */\nexport const wrapWithFireEvent = <T extends Transform>(\n  eventName: TModificationEvents,\n  actionHandler: TransformActionHandler<T>\n) => {\n  return ((eventData, transform, x, y) => {\n    const actionPerformed = actionHandler(eventData, transform, x, y);\n    if (actionPerformed) {\n      fireEvent(eventName, commonEventInfo(eventData, transform, x, y));\n    }\n    return actionPerformed;\n  }) as TransformActionHandler<T>;\n};\n"],"names":["wrapWithFireEvent","eventName","actionHandler","eventData","transform","x","y","actionPerformed","fireEvent","commonEventInfo"],"mappings":"uGAaaA,EAAoBA,CAC/BC,EACAC,IAEQ,CAACC,EAAWC,EAAWC,EAAGC,KAChC,MAAMC,EAAkBL,EAAcC,EAAWC,EAAWC,EAAGC,GAI/D,OAHIC,GACFC,EAAUP,EAAWQ,EAAgBN,EAAWC,EAAWC,EAAGC,IAEzDC,CAAe"}