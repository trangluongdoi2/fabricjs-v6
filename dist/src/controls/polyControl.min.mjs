import{objectSpread2 as t}from"../../_virtual/_rollupPluginBabelHelpers.min.mjs";import{Point as n}from"../Point.min.mjs";import{Control as i}from"./Control.min.mjs";import{multiplyTransformMatrices as o}from"../util/misc/matrix.min.mjs";import{wrapWithFireEvent as r}from"./wrapWithFireEvent.min.mjs";import"../util/misc/vectors.min.mjs";import"../util/misc/projectStroke/StrokeLineJoinProjections.min.mjs";import"../config.min.mjs";import"../shapes/Group.min.mjs";import{sendPointToPlane as m}from"../util/misc/planeChange.min.mjs";import"../cache.min.mjs";import"../util/path/regex.min.mjs";import"../parser/constants.min.mjs";import"../util/animation/AnimationRegistry.min.mjs";const s="modifyPoly",e=t=>function(i,r,m){const{points:s,pathOffset:e}=m;return new n(s[t]).subtract(e).transform(o(m.getViewportTransform(),m.calcTransformMatrix()))},a=(t,i,o,r)=>{const{target:s,pointIndex:e}=i,a=s,p=m(new n(o,r),void 0,a.calcOwnMatrix());return a.points[e]=p.add(a.pathOffset),a.setDimensions(),!0},p=(i,o)=>function(r,m,s,e){const a=m.target,p=new n(a.points[(i>0?i:a.points.length)-1]),c=p.subtract(a.pathOffset).transform(a.calcOwnMatrix()),f=o(r,t(t({},m),{},{pointIndex:i}),s,e),l=p.subtract(a.pathOffset).transform(a.calcOwnMatrix()).subtract(c);return a.left-=l.x,a.top-=l.y,f},c=t=>r(s,p(t,a));function f(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};for(let m=0;m<("number"==typeof n?n:n.points.length);m++)r["p".concat(m)]=new i(t({actionName:s,positionHandler:e(m),actionHandler:c(m)},o));return r}export{c as createPolyActionHandler,f as createPolyControls,e as createPolyPositionHandler,p as factoryPolyActionHandler,a as polyActionHandler};
//# sourceMappingURL=polyControl.min.mjs.map
