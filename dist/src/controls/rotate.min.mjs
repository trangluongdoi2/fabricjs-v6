import{radiansToDegrees as t}from"../util/misc/radiansDegreesConversion.min.mjs";import{NOT_ALLOWED_CURSOR as n,isLocked as o}from"./util.min.mjs";import{wrapWithFireEvent as i}from"./wrapWithFireEvent.min.mjs";import{wrapWithFixedAnchor as r}from"./wrapWithFixedAnchor.min.mjs";const a=(t,o,i)=>i.lockRotation?n:o.cursorStyle,e=i("rotating",r(((n,i,r,a)=>{let{target:e,ex:s,ey:l,theta:m,originX:g,originY:h}=i;const c=e.translateToOriginPoint(e.getRelativeCenterPoint(),g,h);if(o(e,"lockRotation"))return!1;const p=Math.atan2(l-c.y,s-c.x),f=Math.atan2(a-c.y,r-c.x);let M=t(f-p+m);if(e.snapAngle&&e.snapAngle>0){const t=e.snapAngle,n=e.snapThreshold||t,o=Math.ceil(M/t)*t,i=Math.floor(M/t)*t;Math.abs(M-i)<n?M=i:Math.abs(M-o)<n&&(M=o)}M<0&&(M=360+M),M%=360;const u=e.angle!==M;return e.angle=M,u})));export{a as rotationStyleHandler,e as rotationWithSnapping};
//# sourceMappingURL=rotate.min.mjs.map
